# è¿åŠ¨ä¼šç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å­¦æ ¡è¿åŠ¨ä¼šç®¡ç†å¹³å°ï¼Œæ”¯æŒä»è¿åŠ¨å‘˜æŠ¥ååˆ°èµ›äº‹å®‰æ’çš„å…¨æµç¨‹ç®¡ç†ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸƒ **è¿åŠ¨å‘˜ç®¡ç†**
  - æ‰‹åŠ¨æ·»åŠ æˆ–Excelæ‰¹é‡å¯¼å…¥
  - è‡ªåŠ¨ç”Ÿæˆè¿åŠ¨å‘˜ç¼–å·
  - æ€§åˆ«æ™ºèƒ½è¿‡æ»¤æŠ¥åé¡¹ç›®
  - å®Œæ•´çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½

- ğŸ“Š **èµ›äº‹åˆ†ç»„**
  - å¾„èµ›é¡¹ç›®è‡ªåŠ¨åˆ†ç»„
  - æ™ºèƒ½èµ›é“åˆ†é…ï¼ˆç¡®ä¿è¿ç»­ï¼‰
  - æ¥åŠ›é¡¹ç›®ç‰¹æ®Šå¤„ç†
  - æ”¯æŒæ‰‹åŠ¨è°ƒæ•´

- ğŸ“… **æ—¥ç¨‹ç®¡ç†**
  - å¯è§†åŒ–æ—¥ç¨‹å®‰æ’
  - æ—¶é—´å’Œåœºåœ°è®¾ç½®
  - å†²çªæ£€æµ‹æé†’
  - å®Œæ•´çš„ç¼–è¾‘åŠŸèƒ½

- ğŸ“ˆ **æ•°æ®æ€»è§ˆ**
  - å®æ—¶ç»Ÿè®¡æ•°æ®
  - åŠŸèƒ½å¡ç‰‡å¯¼èˆª
  - å®Œæ•´æ—¥ç¨‹å±•ç¤º
  - å¿«é€Ÿè·³è½¬ç®¡ç†

### ç•Œé¢è®¾è®¡

- é‡‡ç”¨ DaisyUI ç»„ä»¶åº“ï¼Œç•Œé¢ç¾è§‚ç»Ÿä¸€
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒå„ç§å±å¹•å°ºå¯¸
- æ­¥éª¤æ¡å¼•å¯¼ï¼Œæµç¨‹æ¸…æ™°
- å¡ç‰‡å¼å¸ƒå±€ï¼Œä¿¡æ¯å±‚æ¬¡åˆ†æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Ruby 3.4.5
- Rails 8.0.3
- SQLite3 2.7.4
- Node.jsï¼ˆç”¨äºå‰ç«¯èµ„æºç¼–è¯‘ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd athletics-app
```

2. **å®‰è£…ä¾èµ–**
```bash
bundle install
```

3. **æ•°æ®åº“è®¾ç½®**
```bash
rails db:migrate
```

4. **åŠ è½½ç¤ºä¾‹æ•°æ®ï¼ˆå¯é€‰ï¼‰**
```bash
rails db:seed
```

5. **å¯åŠ¨æœåŠ¡å™¨**
```bash
bin/dev
```

6. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æµç¨‹

```
1. åˆ›å»ºè¿åŠ¨ä¼š
   â†“
2. æ·»åŠ å‚èµ›å¹´çº§
   â†“
3. ç™»è®°è¿åŠ¨å‘˜ä¿¡æ¯
   â”œâ”€ æ‰‹åŠ¨æ·»åŠ 
   â””â”€ Excelæ‰¹é‡å¯¼å…¥
   â†“
4. ç”Ÿæˆè¿åŠ¨å‘˜ç¼–å·
   â†“
5. è‡ªåŠ¨ç”Ÿæˆå¾„èµ›åˆ†ç»„
   â†“
6. å®‰æ’æ¯”èµ›æ—¥ç¨‹
   â†“
7. æŸ¥çœ‹æ€»è§ˆå’Œå¯¼å‡º
```

### è¯¦ç»†æ–‡æ¡£

- [ç”¨æˆ·ä½¿ç”¨æŒ‡å—](docs/user-guide.md) - å®Œæ•´çš„åŠŸèƒ½è¯´æ˜å’Œæ“ä½œæ­¥éª¤
- [Excelå¯¼å…¥æŒ‡å—](docs/excel-import-guide.md) - æ‰¹é‡å¯¼å…¥æ ¼å¼å’Œæ³¨æ„äº‹é¡¹
- [æ•°æ®åº“ç»“æ„](docs/database-structure.md) - ç³»ç»Ÿæ•°æ®æ¨¡å‹è¯´æ˜

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
athletics-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/          # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ athletes_controller.rb
â”‚   â”‚   â”œâ”€â”€ competitions_controller.rb
â”‚   â”‚   â”œâ”€â”€ grades_controller.rb
â”‚   â”‚   â”œâ”€â”€ heats_controller.rb
â”‚   â”‚   â””â”€â”€ schedules_controller.rb
â”‚   â”œâ”€â”€ models/               # æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ athlete.rb
â”‚   â”‚   â”œâ”€â”€ competition.rb
â”‚   â”‚   â”œâ”€â”€ grade.rb
â”‚   â”‚   â”œâ”€â”€ klass.rb
â”‚   â”‚   â”œâ”€â”€ heat.rb
â”‚   â”‚   â”œâ”€â”€ lane.rb
â”‚   â”‚   â””â”€â”€ schedule.rb
â”‚   â”œâ”€â”€ views/                # è§†å›¾
â”‚   â”‚   â”œâ”€â”€ athletes/
â”‚   â”‚   â”œâ”€â”€ competitions/
â”‚   â”‚   â”œâ”€â”€ grades/
â”‚   â”‚   â”œâ”€â”€ heats/
â”‚   â”‚   â””â”€â”€ schedules/
â”‚   â””â”€â”€ javascript/           # å‰ç«¯è„šæœ¬
â”‚       â””â”€â”€ controllers/
â”‚           â””â”€â”€ events_controller.js
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ routes.rb            # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ database.yml         # æ•°æ®åº“é…ç½®
â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ migrate/             # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ schema.rb            # æ•°æ®åº“æ¶æ„
â”‚   â””â”€â”€ seeds.rb             # ç¤ºä¾‹æ•°æ®
â””â”€â”€ docs/                    # æ–‡æ¡£
    â”œâ”€â”€ user-guide.md
    â”œâ”€â”€ excel-import-guide.md
    â””â”€â”€ database-structure.md
```

## ğŸ’¾ æ•°æ®æ¨¡å‹

### æ ¸å¿ƒå®ä½“å…³ç³»

```
Competition (è¿åŠ¨ä¼š)
  â”œâ”€ Grade (å¹´çº§)
  â”‚   â””â”€ Klass (ç­çº§)
  â”‚       â””â”€ Athlete (è¿åŠ¨å‘˜)
  â”œâ”€ CompetitionEvent (æ¯”èµ›é¡¹ç›®)
  â”‚   â””â”€ Heat (åˆ†ç»„)
  â”‚       â””â”€ Lane (èµ›é“)
  â”‚           â””â”€ LaneAthlete (èµ›é“è¿åŠ¨å‘˜)
  â””â”€ Schedule (æ—¥ç¨‹)
```

### ä¸»è¦åŠŸèƒ½æ¨¡å—

1. **å±‚çº§ç»“æ„**ï¼šCompetition â†’ Grade â†’ Klass â†’ Athlete
2. **é¡¹ç›®åˆ†ç±»**ï¼šEvent (ç”°èµ›/å¾„èµ›) â†’ CompetitionEvent
3. **åˆ†ç»„ç³»ç»Ÿ**ï¼šHeat â†’ Lane â†’ LaneAthlete
4. **æ—¥ç¨‹ç®¡ç†**ï¼šSchedule (å…³è”åˆ°Heat)

è¯¦è§ï¼š[æ•°æ®åº“ç»“æ„æ–‡æ¡£](docs/database-structure.md)

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: Rails 8.0
- **æ•°æ®åº“**: SQLite3
- **èº«ä»½éªŒè¯**: BCrypt

### å‰ç«¯
- **æ ·å¼**: Tailwind CSS + DaisyUI
- **JavaScript**: Stimulus
- **Turbo**: Hotwire Turbo

### å…¶ä»–å·¥å…·
- **Excelè§£æ**: Roo gem
- **æµ‹è¯•**: Minitest
- **ä»£ç è´¨é‡**: RuboCop

## ğŸ“Š ä¸»è¦åŠŸèƒ½å®ç°

### 1. è‡ªåŠ¨ç”Ÿæˆç¼–å·
```ruby
# æŒ‰å¹´çº§ â†’ ç­çº§ â†’ æ€§åˆ«æ’åºåç”Ÿæˆ001å¼€å§‹çš„ç¼–å·
athletes.each_with_index do |athlete, index|
  athlete.update_column(:student_number, format("%03d", index + 1))
end
```

### 2. æ™ºèƒ½åˆ†ç»„ç®—æ³•
```ruby
# å¾„èµ›ï¼šæ¯ç»„æœ€å¤š6äººï¼Œéšæœºæ‰“ä¹±ï¼Œèµ›é“è¿ç»­
shuffled_athletes = athletes.shuffle
heat_count = (shuffled_athletes.count.to_f / max_lanes).ceil

# æ¥åŠ›ï¼šæŒ‰ç­çº§åˆ†ç»„ï¼Œæ¯é˜Ÿ4äºº
athletes_by_klass.each do |klass, klass_athletes|
  # ä¸ºæ¯ä¸ªç­çº§åˆ›å»ºä¸€ä¸ªHeatï¼Œåˆ†é…ä¸€ä¸ªLaneï¼Œ4åè¿åŠ¨å‘˜
end
```

### 3. Excelæ‰¹é‡å¯¼å…¥
```ruby
# æ”¯æŒ.xlså’Œ.xlsxæ ¼å¼
spreadsheet = Roo::Spreadsheet.open(file.path)
# é€è¡Œè§£æï¼Œè‡ªåŠ¨åˆ›å»ºç­çº§ï¼Œå…³è”é¡¹ç›®
```

## ğŸ¯ æœªæ¥è§„åˆ’

- [ ] ç”°èµ›é¡¹ç›®åˆ†ç»„åŠŸèƒ½
- [ ] æˆç»©å½•å…¥æ¨¡å—
- [ ] è‡ªåŠ¨æ’åè®¡ç®—
- [ ] ç§©åºå†ŒPDFå¯¼å‡º
- [ ] æˆç»©å†ŒPDFå¯¼å‡º
- [ ] å·¥ä½œäººå‘˜ç®¡ç†
- [ ] æ›´å¤æ‚çš„å†²çªæ£€æµ‹
- [ ] æ‹–æ‹½å¼æ—¥ç¨‹ç¼–æ’

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ‘¥ ä½œè€…

- åˆå§‹å¼€å‘: [Your Name]
- GitHub: [@yourusername](https://github.com/yourusername)

## ğŸ™ è‡´è°¢

- Railså›¢é˜Ÿæä¾›çš„ä¼˜ç§€æ¡†æ¶
- DaisyUIæä¾›çš„ç²¾ç¾ç»„ä»¶
- Roo gemæä¾›çš„Excelè§£æåŠŸèƒ½

---

**æœ€åæ›´æ–°**: 2025å¹´10æœˆ4æ—¥  
**ç‰ˆæœ¬**: 1.0.0
